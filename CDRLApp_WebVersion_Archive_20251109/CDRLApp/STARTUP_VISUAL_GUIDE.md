# 🎨 CDRLApp 启动程序可视化指南

## 🚀 快速启动（推荐）

### 一键启动

```
┌─────────────────────────────────────────────────────────┐
│  打开终端，进入项目根目录                               │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  macOS / Linux:                                         │
│  $ ./start.sh                                           │
│                                                         │
│  Windows:                                               │
│  > start.bat                                            │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  ✅ 自动检查环境                                        │
│  ✅ 自动安装依赖                                        │
│  ✅ 自动启动后端                                        │
│  ✅ 自动启动前端                                        │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  ✅ 所有服务已启动                                      │
│  📱 前端: http://localhost:3001                         │
│  🔌 后端: http://localhost:8000                         │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  打开浏览器访问: http://localhost:3001                  │
└─────────────────────────────────────────────────────────┘
```

---

## 📋 手动启动（分步骤）

### 步骤 1：启动后端

```
┌─────────────────────────────────────────────────────────┐
│  打开终端 1                                             │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  $ cd backend                                           │
│  $ python3 -m uvicorn app.main:app --reload --port 8000│
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  INFO:     Uvicorn running on http://127.0.0.1:8000    │
│  INFO:     Application startup complete                │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  ✅ 后端已启动                                          │
│  🔌 地址: http://localhost:8000                         │
└─────────────────────────────────────────────────────────┘
```

### 步骤 2：启动前端

```
┌─────────────────────────────────────────────────────────┐
│  打开终端 2                                             │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  $ cd frontend                                          │
│  $ npm run dev                                          │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  VITE v7.2.0  ready in 298 ms                           │
│  ➜  Local:   http://localhost:3001/                    │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  ✅ 前端已启动                                          │
│  📱 地址: http://localhost:3001                         │
└─────────────────────────────────────────────────────────┘
```

### 步骤 3：访问应用

```
┌─────────────────────────────────────────────────────────┐
│  打开浏览器                                             │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  访问: http://localhost:3001                            │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  ✅ 应用已加载                                          │
│  📋 左侧菜单显示所有功能                                │
└─────────────────────────────────────────────────────────┘
```

---

## 🎯 功能菜单

```
┌─────────────────────────────────────────────────────────┐
│  CDRLApp - 铁路工程质量安全监督问题库管理平台           │
├─────────────────────────────────────────────────────────┤
│  📥 导入监督检查通知书                                  │
│     └─ 导入 Word 文档                                   │
│     └─ 检测重复编号                                     │
│     └─ 预览导入数据                                     │
│                                                         │
│  📋 通知书管理                                          │
│     └─ 查看通知书列表                                   │
│     └─ 搜索通知书                                       │
│     └─ 查看问题详情                                     │
│     └─ 删除通知书                                       │
│                                                         │
│  🔍 问题一览表                                          │
│     └─ 查看所有问题                                     │
│     └─ 搜索问题                                         │
│     └─ 筛选问题                                         │
│                                                         │
│  ⚙️  项目与标段管理                                     │
│     └─ 管理项目                                         │
│     └─ 管理标段                                         │
│     └─ 配置检查单位                                     │
└─────────────────────────────────────────────────────────┘
```

---

## 🛑 停止程序

```
┌─────────────────────────────────────────────────────────┐
│  在终端窗口按 Ctrl+C                                    │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  ⚠️  正在停止服务...                                    │
│  ✅ 后端服务已停止                                      │
│  ✅ 前端服务已停止                                      │
│  ✅ 程序已退出                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 🔄 重启程序

```
┌─────────────────────────────────────────────────────────┐
│  停止所有服务 (Ctrl+C)                                  │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  重新运行启动命令                                       │
│  $ ./start.sh  (或其他启动方式)                         │
└─────────────────────────────────────────────────────────┘
                          ↓
┌─────────────────────────────────────────────────────────┐
│  ✅ 程序已重启                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 📊 服务状态检查

```
┌─────────────────────────────────────────────────────────┐
│  检查后端服务                                           │
│  $ curl http://localhost:8000/api/projects              │
│                                                         │
│  预期响应:                                              │
│  {                                                      │
│    "total": 0,                                          │
│    "data": []                                           │
│  }                                                      │
└─────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────┐
│  检查前端服务                                           │
│  $ curl http://localhost:3001                           │
│                                                         │
│  预期响应:                                              │
│  HTML 页面内容                                          │
└─────────────────────────────────────────────────────────┘
```

---

## 🐛 故障排查流程

```
                    启动失败？
                        ↓
        ┌───────────────┼───────────────┐
        ↓               ↓               ↓
    端口被占用      依赖缺失      环境不兼容
        ↓               ↓               ↓
    查找进程      安装依赖      检查版本
    杀死进程      重新启动      升级环境
    重新启动                    重新启动
        ↓               ↓               ↓
        └───────────────┼───────────────┘
                        ↓
                    ✅ 启动成功
```

---

## 📈 启动时间预期

```
一键启动脚本:
  检查环境:     ~1 秒
  安装依赖:     ~10-30 秒 (首次)
  启动后端:     ~2 秒
  启动前端:     ~3 秒
  ─────────────────────
  总计:         ~16-36 秒

手动启动:
  启动后端:     ~2 秒
  启动前端:     ~3 秒
  ─────────────────────
  总计:         ~5 秒
```

---

## ✅ 启动完成标志

```
✅ 后端服务运行在 http://localhost:8000
✅ 前端应用运行在 http://localhost:3001
✅ 浏览器可以访问应用
✅ 左侧菜单显示所有功能项
✅ 没有浏览器控制台错误
✅ 可以导入 Word 文档
✅ 可以查看通知书列表
```

---

**最后更新**: 2025-11-07

