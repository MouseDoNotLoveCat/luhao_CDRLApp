# ğŸ“Š é—®é¢˜ç±»åˆ«å­—æ®µä¼˜åŒ– - è¯¦ç»†åˆ†ææŠ¥å‘Š

## ğŸ” ç°çŠ¶åˆ†æ

### å½“å‰å­—æ®µç»“æ„ï¼ˆ5 ä¸ªå­—æ®µï¼‰

| å­—æ®µå | æ•°æ®ç±»å‹ | è¯´æ˜ | å½“å‰ä½¿ç”¨æƒ…å†µ |
|--------|---------|------|------------|
| `issue_category` | VARCHAR(50) | ä¸€çº§åˆ†ç±» | âœ… å¹¿æ³›ä½¿ç”¨ |
| `issue_subcategory` | VARCHAR(50) | äºŒçº§åˆ†ç±» | âŒ æœªä½¿ç”¨ |
| `issue_type_level1` | VARCHAR(100) | äºŒçº§åˆ†ç±» | âœ… å¹¿æ³›ä½¿ç”¨ |
| `issue_type_level2` | VARCHAR(100) | ä¸‰çº§åˆ†ç±» | âœ… å¹¿æ³›ä½¿ç”¨ |
| `issue_type_level3` | VARCHAR(100) | å››çº§åˆ†ç±» | âŒ æœªä½¿ç”¨ |

### å­—æ®µä½¿ç”¨æƒ…å†µè¯¦ç»†åˆ†æ

#### âœ… è¢«å¹¿æ³›ä½¿ç”¨çš„å­—æ®µ

**1. `issue_category`** - ä¸€çº§åˆ†ç±»
- å‰ç«¯ï¼š`IssuesPage.vue`ã€`IssuesTable.vue`ã€`IssuesPreview.vue` ä¸­ç”¨äºç»Ÿè®¡å’Œè¿‡æ»¤
- åç«¯ï¼š`main.py` ä¸­çš„ `/api/issues` å’Œ `/api/notices/{notice_id}` ç«¯ç‚¹
- åˆ†ç±»å™¨ï¼š`issue_category_classifier.py` ä¸­è‡ªåŠ¨è¯†åˆ«
- å¯¼å…¥æœåŠ¡ï¼š`import_service.py` ä¸­è®¾ç½®
- æ•°æ®åº“è§†å›¾ï¼š`v_issues_summary` å’Œ `v_issues_by_type` ä¸­ä½¿ç”¨
- é…ç½®æ–‡ä»¶ï¼š`issueCategories.js` ä¸­å®šä¹‰

**2. `issue_type_level1`** - äºŒçº§åˆ†ç±»
- å‰ç«¯ï¼š`IssuesTable.vue` ä¸­æ˜¾ç¤ºä¸º"äºŒçº§åˆ†ç±»"åˆ—
- åç«¯ï¼š`main.py` ä¸­çš„ `/api/issues` å’Œ `/api/notices/{notice_id}` ç«¯ç‚¹
- é…ç½®æ–‡ä»¶ï¼š`issueCategories.js` ä¸­çš„ `ISSUE_SUBCATEGORIES` å®šä¹‰

**3. `issue_type_level2`** - ä¸‰çº§åˆ†ç±»
- å‰ç«¯ï¼š`IssuesTable.vue` ä¸­æ˜¾ç¤ºä¸º"ä¸‰çº§åˆ†ç±»"åˆ—
- åç«¯ï¼š`main.py` ä¸­çš„ `/api/issues` å’Œ `/api/notices/{notice_id}` ç«¯ç‚¹
- é…ç½®æ–‡ä»¶ï¼š`issueCategories.js` ä¸­çš„ `ISSUE_DETAILS` å®šä¹‰

#### âŒ æœªä½¿ç”¨çš„å­—æ®µ

**1. `issue_subcategory`** - äºŒçº§åˆ†ç±»ï¼ˆå†—ä½™ï¼‰
- æ•°æ®åº“è§†å›¾ `v_issues_by_type` ä¸­æœ‰ SELECTï¼Œä½†æœªåœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨
- ä¸ `issue_type_level1` åŠŸèƒ½é‡å¤
- å¯¼å…¥æ—¶æœªè¢«è®¾ç½®

**2. `issue_type_level3`** - å››çº§åˆ†ç±»ï¼ˆé¢„ç•™ï¼‰
- å®Œå…¨æœªä½¿ç”¨
- é¢„ç•™ç»™æœªæ¥æ‰©å±•

## ğŸ¯ ä¼˜åŒ–æ–¹æ¡ˆ

### æ¨èæ–¹æ¡ˆï¼šä¿ç•™ 3 ä¸ªå­—æ®µï¼Œåˆ é™¤ 2 ä¸ªå†—ä½™å­—æ®µ

**ä¿ç•™çš„å­—æ®µ**ï¼š
1. `issue_category` - ä¸€çº§åˆ†ç±»ï¼ˆå·¥ç¨‹è´¨é‡/æ–½å·¥å®‰å…¨/ç®¡ç†è¡Œä¸º/å…¶å®ƒï¼‰
2. `issue_type_level1` - äºŒçº§åˆ†ç±»ï¼ˆæ··å‡åœŸå·¥ç¨‹ã€éš§é“æ–½å·¥ç­‰ï¼‰
3. `issue_type_level2` - ä¸‰çº§åˆ†ç±»ï¼ˆåŸææ–™ã€æ´å£å¼€æŒ–ç­‰ï¼‰

**åˆ é™¤çš„å­—æ®µ**ï¼š
1. âŒ `issue_subcategory` - ä¸ `issue_type_level1` åŠŸèƒ½é‡å¤
2. âŒ `issue_type_level3` - å®Œå…¨æœªä½¿ç”¨ï¼Œå¯é¢„ç•™æœªæ¥æ‰©å±•

### å­—æ®µå‘½åä¼˜åŒ–å»ºè®®

**å½“å‰å‘½å**ï¼ˆä¸å¤Ÿç»Ÿä¸€ï¼‰ï¼š
```
issue_category      (ä¸€çº§)
issue_type_level1   (äºŒçº§)
issue_type_level2   (ä¸‰çº§)
```

**ä¼˜åŒ–åå‘½å**ï¼ˆæ›´ç»Ÿä¸€ã€æ›´æ¸…æ™°ï¼‰ï¼š
```
category_level1     (ä¸€çº§)
category_level2     (äºŒçº§)
category_level3     (ä¸‰çº§)
```

**æˆ–ä¿æŒç°çŠ¶**ï¼ˆè€ƒè™‘åˆ°å·²æœ‰å¤§é‡ä»£ç ï¼‰ï¼š
```
issue_category      (ä¸€çº§)
issue_type_level1   (äºŒçº§)
issue_type_level2   (ä¸‰çº§)
```

**å»ºè®®**ï¼šä¿æŒç°çŠ¶ï¼Œå› ä¸ºï¼š
- å·²æœ‰å¤§é‡ä»£ç ä¾èµ–è¿™äº›å­—æ®µå
- ä¿®æ”¹å­—æ®µåéœ€è¦æ›´æ–°æ‰€æœ‰ç›¸å…³ä»£ç 
- å½“å‰å‘½åè™½ç„¶ä¸å®Œç¾ï¼Œä½†å·²è¢«å¹¿æ³›ä½¿ç”¨

## ğŸ“‹ å½±å“åˆ†æ

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

#### å‰ç«¯ï¼ˆ3 ä¸ªæ–‡ä»¶ï¼‰
1. `frontend/src/components/IssuesTable.vue` - åˆ é™¤ `issue_subcategory` åˆ—
2. `frontend/src/config/issueCategories.js` - æ— éœ€ä¿®æ”¹
3. `frontend/src/pages/IssuesPage.vue` - æ— éœ€ä¿®æ”¹

#### åç«¯ï¼ˆ2 ä¸ªæ–‡ä»¶ï¼‰
1. `backend/app/main.py` - åˆ é™¤ SELECT ä¸­çš„ `issue_subcategory`
2. `backend/app/services/import_service.py` - æ— éœ€ä¿®æ”¹

#### æ•°æ®åº“ï¼ˆ1 ä¸ªæ–‡ä»¶ï¼‰
1. `database_schema.sql` - åˆ é™¤ `issue_subcategory` å’Œ `issue_type_level3` å­—æ®µå®šä¹‰å’Œç´¢å¼•

#### æ•°æ®åº“è§†å›¾ï¼ˆ1 ä¸ªæ–‡ä»¶ï¼‰
1. `database_schema.sql` - æ›´æ–° `v_issues_by_type` è§†å›¾

### å½±å“èŒƒå›´æ€»ç»“

| ç»„ä»¶ | å½±å“ç¨‹åº¦ | è¯´æ˜ |
|------|--------|------|
| å‰ç«¯è¡¨æ ¼æ˜¾ç¤º | ä½ | åªéœ€åˆ é™¤ä¸€åˆ— |
| åç«¯ API | ä½ | åªéœ€åˆ é™¤ SELECT å­—æ®µ |
| å¯¼å…¥åŠŸèƒ½ | æ—  | ä¸å—å½±å“ |
| åˆ†ç±»å™¨ | æ—  | ä¸å—å½±å“ |
| è¿‡æ»¤åŠŸèƒ½ | æ—  | ä¸å—å½±å“ |
| ç»Ÿè®¡åŠŸèƒ½ | æ—  | ä¸å—å½±å“ |

## âœ… ä¼˜åŒ–æ–¹æ¡ˆæ€»ç»“

### æ¨èæ–¹æ¡ˆ

**ä¿ç•™ 3 ä¸ªå­—æ®µ**ï¼š
- `issue_category` - ä¸€çº§åˆ†ç±»
- `issue_type_level1` - äºŒçº§åˆ†ç±»
- `issue_type_level2` - ä¸‰çº§åˆ†ç±»

**åˆ é™¤ 2 ä¸ªå­—æ®µ**ï¼š
- `issue_subcategory` - å†—ä½™
- `issue_type_level3` - æœªä½¿ç”¨

**ä¼˜ç‚¹**ï¼š
- âœ… ç®€åŒ–æ•°æ®åº“ç»“æ„
- âœ… æ¶ˆé™¤å­—æ®µå†—ä½™
- âœ… ä¿æŒä¸‰å±‚åˆ†ç±»ç»“æ„
- âœ… æœ€å°åŒ–ä»£ç æ”¹åŠ¨
- âœ… ä¿æŒå‘åå…¼å®¹æ€§

**ç¼ºç‚¹**ï¼š
- éœ€è¦ä¿®æ”¹æ•°æ®åº“è¿ç§»è„šæœ¬
- éœ€è¦æ›´æ–°ç°æœ‰æ•°æ®åº“

---

**åˆ†ææ—¥æœŸ**: 2025-11-08  
**æ¨èçŠ¶æ€**: âœ… å¯ä»¥å®æ–½  
**é£é™©ç­‰çº§**: ä½

