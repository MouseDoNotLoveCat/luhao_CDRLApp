# 监督通知书示范文件分析报告

## 📋 文件概览

### 示范文件列表
1. **内部监督通知书钦防二线2025-08.docx**
   - 项目：南防铁路钦州至防城港段增建二线工程
   - 检查时间：2025年8月6日-7日
   - 检查人员：唐俭阳、陈胜

2. **柳梧铁路内部监督通知书（编号：南宁站[2025]（通知）柳梧10号）.docx**
   - 项目：新建柳梧铁路工程
   - 检查时间：2025年9月4日-5日
   - 检查人员：唐小林、罗斌、蒋德义

---

## 🔍 文档结构分析

### 文档格式特点
- ✅ **纯文本格式**：主要由段落组成，无复杂表格
- ✅ **结构化内容**：有明确的标题和分段
- ✅ **包含图片**：文档中引用了检查现场的图片（图1、图2等）
- ❌ **无数据表格**：不是表格形式，而是文本描述

### 文档结构层次

```
1. 文档头部
   ├─ 签发信息
   ├─ 文档标题
   ├─ 编号
   └─ 收文单位

2. 检查基本信息
   ├─ 检查时间
   ├─ 检查人员
   ├─ 检查依据（文件号）
   └─ 检查范围

3. 总体情况
   ├─ 检查标段数
   ├─ 施工单位数
   ├─ 监理单位数
   ├─ 工点数
   └─ 问题统计

4. 具体问题描述
   ├─ 工点名称
   ├─ 施工单位
   ├─ 监理单位
   ├─ 检查时间
   ├─ 问题描述
   ├─ 处理措施
   └─ 整改期限

5. 其他问题
   └─ 类似结构的问题列表
```

---

## 📊 关键信息提取点

### 1. 基础信息字段

| 字段 | 示例 | 位置 | 提取难度 |
|------|------|------|--------|
| **编号** | 南宁站[2025]（通知）钦防二线 08号 | 第2-3行 | ⭐ 简单 |
| **项目名称** | 南防铁路钦州至防城港段增建二线工程 | 第4行 | ⭐ 简单 |
| **检查时间** | 2025年8月6日-7日 | 第4行 | ⭐ 简单 |
| **检查人员** | 唐俭阳、陈胜 | 第4行 | ⭐ 简单 |
| **标段** | QFSG2标、QFSG1标 | 第4行 | ⭐⭐ 中等 |
| **施工单位** | 中铁三局、中铁二十五局 | 分散 | ⭐⭐ 中等 |
| **监理单位** | 广西宁铁监理 | 分散 | ⭐⭐ 中等 |
| **工点名称** | 皇马隧道出口、冲仓中桥 | 分散 | ⭐⭐ 中等 |

### 2. 问题信息字段

| 字段 | 示例 | 提取难度 |
|------|------|--------|
| **问题描述** | 用于隧道纵向施工缝的水泥基渗透结晶型防水涂料经查无进场验收记录 | ⭐⭐⭐ 困难 |
| **问题类型** | 质量问题、安全问题、管理行为问题 | ⭐⭐ 中等 |
| **严重程度** | 从描述推断 | ⭐⭐⭐ 困难 |
| **整改通知单号** | 南宁站钦防二线〔2025〕（改字）06号 | ⭐⭐ 中等 |
| **整改期限** | 2025年8月20日前 | ⭐⭐ 中等 |
| **处理措施** | 责令改正，扣1分 | ⭐⭐⭐ 困难 |

### 3. 统计信息

| 字段 | 示例 | 提取难度 |
|------|------|--------|
| **总问题数** | 30个 | ⭐ 简单 |
| **质量问题数** | 9个 | ⭐ 简单 |
| **安全问题数** | 6个 | ⭐ 简单 |
| **管理问题数** | 15个 | ⭐ 简单 |

---

## 🎯 NLP 识别方案建议

### 第一层：正则表达式提取（结构化）

```python
# 编号提取
pattern_number = r'编号[：:]\s*([^\n]+)'

# 检查时间提取
pattern_date = r'(\d{4}年\d{1,2}月\d{1,2}日)[-~](\d{4}年\d{1,2}月\d{1,2}日)?'

# 检查人员提取
pattern_personnel = r'南宁监督站\s*([^，,。]+)'

# 问题统计提取
pattern_stats = r'共计发现各类问题(\d+)个[，,]其中质量问题(\d+)个[，,]安全问题(\d+)个[，,]管理行为及其他问题(\d+)个'

# 整改期限提取
pattern_deadline = r'(\d{4}年\d{1,2}月\d{1,2}日)前完成整改'
```

### 第二层：NLP 模型提取（非结构化）

#### 命名实体识别 (NER)
- **项目名称**：识别工程项目名称
- **标段**：识别标段编号（如 QFSG2标）
- **工点名称**：识别具体工点（如 皇马隧道出口）
- **单位名称**：识别施工单位、监理单位、建设单位
- **地点**：识别地理位置信息

#### 文本分类
- **问题类型分类**：质量问题 / 安全问题 / 管理问题
- **严重程度分类**：从问题描述推断严重程度

#### 关键词提取
- 从问题描述中提取关键词
- 用于问题去重和匹配

### 第三层：混合验证

```
输入：Word 文档
  ↓
正则表达式提取基础信息
  ├─ 编号、检查时间、检查人员
  ├─ 问题统计数据
  └─ 整改期限
  ↓
NLP 模型提取关键实体
  ├─ 项目名称、标段、工点
  ├─ 施工单位、监理单位
  └─ 问题描述和分类
  ↓
结果合并和置信度评分
  ├─ 正则表达式结果：置信度 95%+
  ├─ NLP 结果：置信度 70-90%
  └─ 综合评分
  ↓
人工审核界面
  ├─ 显示识别结果
  ├─ 允许修正
  └─ 确认保存
```

---

## 📝 数据库字段映射

### supervision_notices 表
```
- notice_number: 编号
- issue_date: 签发日期
- check_date: 检查时间
- check_personnel: 检查人员
- total_issues: 总问题数
- quality_issues: 质量问题数
- safety_issues: 安全问题数
- management_issues: 管理问题数
```

### projects 表
```
- project_name: 项目名称
- section: 标段
- contractor: 施工单位
- supervisor: 监理单位
- designer: 设计单位
```

### inspection_points 表
```
- point_name: 工点名称
- location: 位置
- inspection_date: 检查时间
- inspector: 检查人员
```

### issues 表
```
- description: 问题描述
- issue_type: 问题类型（质量/安全/管理）
- severity: 严重程度
- rectification_notice: 整改通知单号
- deadline: 整改期限
- status: 状态
```

---

## 🔧 实现建议

### 优先级 1（必须）
- ✅ 正则表达式提取基础信息
- ✅ 图片提取和存储
- ✅ 人工审核界面

### 优先级 2（重要）
- ⭐ NER 模型识别单位和工点
- ⭐ 文本分类识别问题类型
- ⭐ 置信度评分

### 优先级 3（可选）
- 📋 关键词提取
- 📋 文本相似度计算
- 📋 自动去重

---

## 📌 注意事项

1. **格式多样性**：不同的监督通知书格式可能有差异，需要灵活处理
2. **图片关联**：需要正确关联图片到对应的问题
3. **单位名称变化**：同一单位可能有多种写法，需要规范化
4. **日期格式**：需要统一日期格式
5. **问题编号**：需要正确识别问题的层级关系（一级问题、二级问题等）


